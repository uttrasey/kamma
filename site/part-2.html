<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="description" content="Kamma share deal  ">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Kamma</title>
        <link rel="stylesheet" type="text/css" href="styles.css">
        <style>
            main {
                width: 450px;
                margin: 0 auto;
            }
        </style>
        <script type="text/javascript">
            const formToJSON = elements => [].reduce.call(elements, (data, element) => {
                data[element.name] = element.value;
                return data;
            }, {});
            
            function submitShare(event) {
                const form = document.getElementsByClassName('share-form')[0];
                const data = formToJSON(form.elements);
                
                const request = new XMLHttpRequest();
                const url = "https://01qi8owv02.execute-api.eu-central-1.amazonaws.com/dev/share";
                request.open("POST", url, true);
                request.setRequestHeader("Content-Type", "application/json");
                request.onreadystatechange = function () {
                    if (request.readyState === 4 && request.status === 200) {
                        var jsonData = JSON.parse(request.response);
                        console.log(jsonData);
                    }
                };
                request.send(JSON.stringify(data));

                console.log(data);
                return false;
            }
        </script>
    </head>
    <body>
        <div id="container">
            <header>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 578.32 103.54" class="svg-logo">
                    <title>Kamma</title>
                    <polygon
                        points="76.92 0 54.73 0 17.75 46.45 17.75 0 0 0 0 103.54 17.75 103.54 17.75 56.8 58.43 103.54 81.95 103.54 36.39 50.88 76.92 0">
                    </polygon>
                    <polygon
                        points="269.69 52.07 235.97 0 219.55 0 219.55 103.54 237.3 103.54 237.3 34.02 269.69 83.28 302.09 34.02 302.09 103.54 319.84 103.54 319.84 0 303.42 0 269.69 52.07">
                    </polygon>
                    <polygon
                        points="404.26 52.07 370.53 0 354.12 0 354.12 103.54 371.87 103.54 371.87 34.02 404.26 83.28 436.65 34.02 436.65 103.54 454.4 103.54 454.4 0 437.99 0 404.26 52.07">
                    </polygon>
                    <path d="M137.76,0,97.53,103.54h8.29a14,14,0,0,0,13.07-9l27.9-72.24,27.89,72.24a14,14,0,0,0,13.08,9H196L155.81,0Z">
                    </path>
                    <path d="M538.09,0H520L479.81,103.54h8.29a14,14,0,0,0,13.07-9l27.9-72.24L557,94.58a14,14,0,0,0,13.08,9h8.28Z">
                    </path>
                </svg>
            </header>
            
            <main>
                <h3>Share to a friend</h3>
                <p>Share this great deal with friends!</p>
                <form onsubmit="return submitShare()" class="share-form">
                    <label for="yourName">Your name *</label>
                    <input id="yourName" name="yourName" type="text" size="20" />

                    <label for="theirName">Friends name *</label>
                    <input id="theirName" name="theirName" type="text" size="20" />

                    <label for="theirEmail">Friends email *</label>
                    <input id="theirEmail" name="theirEmail" type="text" size="20" />

                    <input type="submit" />
                </form>
            </main>

            <footer>
                <p>Â© Kamma 2020 | <a href="https://www.kammadata.com/support/privacy/">Privacy Policy</a> | <a href="https://www.kammadata.com/support/terms/">Terms and Conditions</a> | <a href="https://www.kammadata.com/support/contact/">Contact</a></p>
            </footer>
        </div>
    </body>
</html>
